<div class="container scroll-wrap" infiniteScroll [infiniteScrollDistance]="1" [infiniteScrollThrottle]="50" (scrolled)="onScroll()">
  <div class="content-container" fxLayout="column" fxLayoutAlign="stretch" fxFlex="auto">
    <swiper class="swiper-container" [config]="config" fxFlex="auto">
      <div *ngFor="let slide of slides" class="swiper-slide">
        <div class="row wrap-content-slider">
          <div class="col-sm-6 col-xs-12">
            <div class="pull-left card-left">
              <h3>WRATH OF THE TITANS</h3>
              <ul class="list-inline">
                <li>Fantasy</li>
                <li>Animation</li>
                <li>Family</li>
                <li>|</li>
                <li>Duration: 1h52m</li>
              </ul>
              <ul class="list-inline">
                <li><button class="btn btn-outline-success btn-pink my-2 my-sm-0">WRATH MOIVE</button></li>
                <li><button class="btn btn-outline-default my-2 my-sm-0">VIEW INFO</button></li>
                <li><button class="btn btn-link my-2 my-sm-0">+ ADD TO WISHLIS</button></li>
              </ul>
            </div>
          </div>
          <div class="col-sm-6 col-xs-12">
            <div class="pull-right">
              <div class="card card-right">
                <div class="card-body text-center">
                  <p class="rating"><span>Rating </span>based on 3.456 reviews</p>
                  <ul class="list-inline">
                    <li><img src="./assets/images/star.png" alt="" style="height: 16px;"></li>
                    <li><img src="./assets/images/star.png" alt="" style="height: 16px;"></li>
                    <li><img src="./assets/images/star.png" alt="" style="height: 16px;"></li>
                    <li><img src="./assets/images/start-half.png" alt="" style="height: 16px;"></li>
                    <li><img src="./assets/images/star-less.png" alt="" style="height: 16px;"></li>
                    <li><span class="num">3.4</span></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div fxLayout="column" fxLayoutAlign="center center" fxFlexFill>
          <img src="./assets/images/slide.png" alt="" style="width:100%;height: 450px;">
        </div>
      </div>
    </swiper>
  </div>

  <div class="content-main">
    <div class="row">
      <div class="col-12">
        <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs" (navChange)="navChanged($event)">
          <li [ngbNavItem]="1">
            <a ngbNavLink>Popular</a>
            <ng-template ngbNavContent>
              <div class="row">
                <div class="col-md-3 col-sm-6 col-xs-12" *ngFor="let item of listPopular; trackBy: trackByFn; let i = index">
                  <div class="card card-poster">
                    <img class="card-img-top" [src]="'https://image.tmdb.org/t/p/w300/'+ item.poster_path" alt="item.original_title">
                    <div class="card-body">
                      <p class="card-title" title="{{item.title}}">{{item.title}}</p>
                      <p class="card-text">
                        <span class="genre">{{item.genre}} </span>
                      </p>
                      <span class="average">{{item.vote_average}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </li>
          <li [ngbNavItem]="2">
            <a ngbNavLink>Top Rated</a>
            <ng-template ngbNavContent>
              <div class="row">
                <div class="col-md-3 col-sm-6 col-xs-12" *ngFor="let item of listTopRated; trackBy: trackByFn; let i = index">
                  <div class="card card-poster">
                    <img class="card-img-top" [src]="'https://image.tmdb.org/t/p/w300/'+ item.poster_path" alt="item.original_title">
                    <div class="card-body">
                      <p class="card-title" title="{{item.title}}">{{item.title}}</p>
                      <p class="card-text">
                        <span class="genre">{{item.genre}} </span>
                      </p>
                      <span class="average">{{item.vote_average}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </li>
          <li [ngbNavItem]="3">
            <a ngbNavLink>Upcoming</a>
            <ng-template ngbNavContent>
              <div class="row">
                <div class="col-md-3 col-sm-6 col-xs-12" *ngFor="let item of listUpcoming; trackBy: trackByFn; let i = index">
                  <div class="card card-poster">
                    <img class="card-img-top" [src]="'https://image.tmdb.org/t/p/w300/'+ item.poster_path" alt="item.original_title">
                    <div class="card-body">
                      <p class="card-title" title="{{item.title}}">{{item.title}}</p>
                      <p class="card-text">
                        <span class="genre">{{item.genre}} </span>
                      </p>
                      <span class="average">{{item.vote_average}}</span>
                    </div>
                  </div>
                </div>
              </div>
            </ng-template>
          </li>
          <li [ngbNavItem]="4">
            <a ngbNavLink>Genre
              <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
              </svg>
            </a>
            <ng-template ngbNavContent>
              <div class="list-genre">
                <button color="primary" aria-label="Set Genres filter" *ngFor="let genre of listGenre">
                  {{genre.name}}
                </button>
              </div>
            </ng-template>
          </li>
        </ul>
        <div class="view-method">
          <ul class="list-inline">
            <li><img src="./assets/images/collection-icon.png" alt="" style="height: 20px;"></li>
            <li><img src="./assets/images/list-icon.png" alt="" style="height: 20px;"></li>
          </ul>
        </div>
      </div>
      <div class="col-12 list-movie text-center">
        <div [ngbNavOutlet]="nav" class="mt-2"></div>
        <div class="loading" [hidden]="!isLoading">
          <img src="./assets/images/loading-icon.png" alt="" style="height: 30px">
          <p>LOADING</p>
        </div>
      </div>
    </div>


  </div>

</div>
